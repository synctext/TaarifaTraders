<div class="container">

    <div class="header" ng-controller="NavCtrl">
      <ul class="nav nav-pills pull-right">
        <!--li><a ng-href="#/waterpoints/new">
          <span class="glyphicon glyphicon-plus"></span>
          Create waterpoint
        </a></li-->
        <!-- <li ng-class="{active: location.path() == '/'}"><a ng-href="#" translate>Home</a></li> -->
        <li ng-class="{active: location.path() == '/'}"><a ng-href="#/traders" translate>Issues</a></li>
        <li ng-class="{active: location.path() == '/subscribers'}"><a ng-href="#/subscribers" translate>{{"Subscribers" | translate}}</a></li>
	<li ng-class="{active: location.path() == '/login'}"><a ng-href="#/login" translate>{{"Logout" | translate}}</a></li>
        <!-- <li ng-class="{active: location.path() == '/traders/new'}">
          <a ng-href="#/traders/new"><span class="glyphicon glyphicon-plus"></span> {{"Add Issue" | translate}}</a></li> -->
        <!-- <li ng-class="{active: location.path() == '/dashboard'}"><a ng-href="#/dashboard" translate>Dashboard</a></li> -->
        <li ng-controller="LocaleCtrl">
          <select class="form-control" ng-model="languages.current"
            ng-options="key as value for (key, value) in languages.available">
          </select>
        </li>
      </ul>
      <h4 class="" translate>Charter for Cross-Border Trade in Goods and Services</h4>
      <p>Online platform for reported issues</p>
    </div>
    <hr>

    <div flash-alert="success" active-class="in alert" class="fade" duration="0">
      <button type="button" class="close" ng-click="hide()">&times;</button>
      <strong class="alert-heading">Success:</strong>
      <span class="alert-message">{{flash.message}}</span>
    </div>

    <div flash-alert="error" active-class="in alert" class="fade" duration="0">
      <button type="button" class="close" ng-click="hide()">&times;</button>
      <strong class="alert-heading">Error:</strong>
      <span class="alert-message">{{flash.message}}</span>
    </div>

    <div flash-alert="info" active-class="in alert" class="fade" duration="0">
      <button type="button" class="close" ng-click="hide()">&times;</button>
      <strong class="alert-heading">Info:</strong>
      <span class="alert-message">{{flash.message}}</span>
</div>

<div class="panel panel-primary">
  <div class="panel-heading">
    <h3 class="panel-title">{{"Issues Reported" | translate}} <!-- {{request.attribute.waterpoint_id}} -->
      <small class="pull-right">{{"submitted on" | translate}} {{request._created}}</small></h3>
  </div>

  <div class="table-responsive" style="overflow: scroll !important;">
    <div class="panel panel-default">
      <div class="panel-body">
        <div class="alert alert-info pull-left">
	  <p>1. Customs 2. TRA 3. ZRA 4. MRA 5. Immigration 6. Police 7. Bureau 8. Standards 9. Duty 10. Passport 11. BorderPass 12. Corruption 13. Harassment 14. Bribe</p>
          <!--<p>Sort Type: {{ sortType }}</p>
          <p>Sort Reverse: {{ sortReverse }}</p>
          <p>Search Query: {{ searchText }}</p>-->
        </div>

          <label class="pull-right">{{"Search" | translate}}: <input ng-model="searchText.$" placeholder="Quick search" class=""></label>
      </div>
    </div>

    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th translate>
            <a href="#/traders" ng-click="sortType = 'issue_code'; sortReverse = !sortReverse">
              {{"CODE" | translate}} 
              <span ng-show="sortType == 'issue_code' && !sortReverse" class="fa fa-caret-down"></span>
              <span ng-show="sortType == 'issue_code' && sortReverse" class="fa fa-caret-up"></span>
            </a>
          </th>
          <th translate>
            <a href="#/traders" ng-click="sortType = 'issue_phone_number'; sortReverse = !sortReverse">
              {{"PHONE NUMBER" | translate}}
              <span ng-show="sortType == 'issue_phone_number' && !sortReverse" class="fa fa-caret-down"></span>
              <span ng-show="sortType == 'issue_phone_number' && sortReverse" class="fa fa-caret-up"></span>
            </a>
          </th>
          <th translate>
            <a href="#/traders" ng-click="sortType = 'issue_keyword'; sortReverse = !sortReverse">
              {{"ISSUE" | translate}} 
              <span ng-show="sortType == 'issue_keyword' && !sortReverse" class="fa fa-caret-down"></span>
              <span ng-show="sortType == 'issue_keyword' && sortReverse" class="fa fa-caret-up"></span>
            </a>
          </th>
          <th translate>
            <a href="#/traders" ng-click="sortType = 'issue_status'; sortReverse = !sortReverse">
              {{"DESCRIPTION" | translate}} 
              <span ng-show="sortType == 'issue_status' && !sortReverse" class="fa fa-caret-down"></span>
              <span ng-show="sortType == 'issue_status' && sortReverse" class="fa fa-caret-up"></span>
            </a>
          </th>
          <!-- <th translate>TYPE</th> -->
          <!-- <th translate>LOCATION</th> -->
          <!-- <th translate>AGENCY</th> -->
          <th translate>
            <a href="#/traders" ng-click="sortType = '_created'; sortReverse = !sortReverse">
              {{"DATE" | translate}} 
              <span ng-show="sortType == '_created' && !sortReverse" class="fa fa-caret-down"></span>
              <span ng-show="sortType == '_created' && sortReverse" class="fa fa-caret-up"></span>
            </a>
          </th>
          <th translate>
            <a href="#/traders" ng-click="sortType = 'issue_status_group'; sortReverse = !sortReverse">
              {{"STATUS" | translate}} 
              <span ng-show="sortType == 'issue_status_group' && !sortReverse" class="fa fa-caret-down"></span>
              <span ng-show="sortType == 'issue_status_group' && sortReverse" class="fa fa-caret-up"></span>
            </a>
          </th>
          <th translate><a>{{"REMARKS" | translate}} 1</a></th>
	  <th translate><a>{{"REMARKS" | translate}} 2</a></th>
        </tr>
        <tr>
          <td><input ng-model="searchText.issue_code" placeholder="search code" class="form-control"></td>
          <td><input ng-model="searchText.issue_phone_number" placeholder="search phone number" class="form-control"></td>
          <td><input ng-model="searchText.issue_keyword" placeholder="search keyword" class="form-control"></td>
          <td><input ng-model="searchText.issue_status" placeholder="search description" class="form-control"></td>
          <td><input ng-model="searchText._created" placeholder="search date" class="form-control"></td>
          <td><input ng-model="searchText.issue_status_group" placeholder="search status" class="form-control"></td>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="trader in traders | orderBy:sortType:sortReverse | filter:searchText:strict | filter:paginate">
          <td>{{ trader.issue_code }}</td>
          <td><a href="tel:{{ trader.issue_phone_number }}" class="btn btn-sm btn-danger">Call</a></td>
          <td>{{ trader.issue_keyword }}</td>
          <td  style="word-wrap: break-word;min-width: 300px;max-width: 300px;white-space: normal;">{{ trader.issue_status }}</td>
          <!-- <td>{{ trader.issue_type }}</td> -->
          <!-- <td>{{ trader.location.coordinates }}</td> -->
          <!-- <td>{{ trader.issue_agency }}</td> -->
          <td>{{ trader._created | date }}</td>
          <td>
	  <select class="form-control" name="statusgp" ng-model="status">
		<option value="pending">{{ trader.issue_status_group | translate }}</option>
		<option value="resolved">resolved</option>
	  </select>
	  <button class="btn btn-xs btn-primary" ng-click="changeStatus()">Change</button>
	  </td>
          <td>
	    <input type="text" class="form-control" ng-model="remarks1" placeholder="add remarks"/>
	    <button class="btn btn-xs btn-warning" ng-click="test(trader._id)">Comment</button>
          </td>
	  <td>
            <input type="text" class="form-control" ng-model="remarks2" placeholder="add remarks"/>
            <button class="btn btn-xs btn-warning" ng-click="test(trader._id)">Comment</button>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="panel panel-default">
      <div class="panel-body">
        <pagination total-items="totalItems" ng-model="currentPage"
          max-size="10" boundary-links="true"
          items-per-page="numPerPage" class="pagination-sm pull-right">
        </pagination>
      </div>
    </div>
  </div>
</div>

<div class="footer">
    <div class="panel panel-default">
      <div class="panel-heading">
        <h5>Supporters</h5>
      </div>
      <div class="panel-body">
        <div class="row">
          <div class="col-md-12 col-lg-12">
            <div class="col-md-2 col-lg-2"></div>
            <div class="col-md-8 col-lg-8">
              <div class="col-md-3 col-lg-3">
                <img src="images/airtel.jpg" class="img-supporters" alt="Airtel" title="Airtel" />
              </div>
              <div class="col-md-3 col-lg-3">
                <img src="images/malawi.jpg" class="img-supporters" alt="Government of Malawi" title="Government of Malawi" />
              </div>
              <div class="col-md-3 col-lg-3">
                <img src="images/zambia.png" class="img-supporters" alt="Government of Zambia" title="Government of Zambia" />
              </div>
              <div class="col-md-3 col-lg-3">
                <img src="images/wbg.jpg" class="wb-supporters" alt="The World Bank Group" title="The World Bank Group" />
              </div>
            </div>
            <div class="col-md-2 col-lg-2"></div>
          </div>
        </div>
      </div>
    </div>
</div>
</div>

<!-- Modal -->
<div id="myModal" class="modal fade" role="dialog">
  <div class="modal-dialog modal-sm">

    <!-- Modal content-->
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
        <h4 class="modal-title">Modal Header</h4>
      </div>
      <div class="modal-body">
        <p>Some text in the modal.</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
      </div>
    </div>

  </div>
</div>
